# Xserpy

Python implementation of Shift-Reduce semantic parser: http://ceur-ws.org/Vol-1180/CLEF2014wn-QA-XuEt2014.pdf

Main script is ``convert_question.py`` - converts i-th question in dataset to a SPARQL query.

To retrain the model, you need to regenerate the data files as listed below.

## Data Files

  * ``data/pos_tagged.pickle``, ``data/ner_tagged.pickle`` - generated by specialized annotate/feature_constructor.py functions
  * ``annotate/phrase_detect_features_100_arr.pickle`` - generated by annotate/feature_constructor.py main
  * ``models/w_all_50.pickle`` - generated by phrase_detector.py main
  * ``models/w_dag_all.pickle`` - generated by shift_reduce.py main
  * ``models/w_qint.pickle`` - generated by query_instantiate.py main

## Phases

  * **annotate.feature_constructor** - generate question sentence features
  * **phrase_detector** - classify question tokens into classes
  * **shift_reduce** - generate a parse DAG from classified tokens
  * **query_instantiate** - label the DAG edges and nodes to correspond to a logical form (objects, predicates, relation names)
  * **structured_query** - convert the DAG to a SPARQL query
